{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 39,
  "summary": "Bina Yönetim ERP Uygulaması - Multi-tenant, rol bazlı bina yönetim sistemi. Internet Identity tek kimlik doğrulama yöntemi. Davet kodu giriş yöntemi değil, rol ve bina eşleştirme aracıdır. Kullanıcılar Internet Identity ile giriş yapar, binaya bağlı değilse davet kodu girer veya bina oluşturur. Onboarding akışı: Bina Sahibi (bina oluşturma), Yetkili (davet kodu), Sakin/Personel (davet kodu). Login ekranında 3 farklı onboarding akışı seçeneği aynı anda gösterilecek.",
  "architectural_notes": [
    "Internet Identity tek kimlik doğrulama yöntemi",
    "3 seviyeli hiyerarşi: Bina Hesabı → Bina Yetkilisi → Daire Sakini/Personel",
    "Rol bazlı yetkilendirme sistemi (sonraki fazda eklenecek)",
    "Aşamalı geliştirme stratejisi: Kimlik → Kullanıcı Yönetimi → Davet Kodu → Rol Sistemi → ERP Modülleri",
    "Backend: Motoko, Frontend: React + TypeScript + Tailwind CSS",
    "Türkçe arayüz ve mobil uyumlu tasarım",
    "Gerçek zamanlı bildirim yerine uygulama açılınca güncelleme yaklaşımı",
    "Aidat modülü: Sadece takip ve manuel işaretleme, gerçek ödeme entegrasyonu yok",
    "Multi-tenant yapı öncelikli: Tenant yapısı rol ve davet sisteminden önce kurulmalı",
    "Internet Identity = Kimlik doğrulama (tek giriş yöntemi)"
  ],
  "known_issues": [
    "Onboarding flow state management issue: mode is set to 'building-owner' then immediately cleared, causing the onboarding section to render with mode=null instead of showing the building creation form",
    "Login page onboarding flow persistence: session storage correctly stores 'building-owner' but Home component clears it before using it to determine which onboarding UI to display",
    "Post-login screen appears blank/empty for users after Internet Identity authentication completes",
    "Infinite render loop: React Query queries (useGetCallerUserProfile, useGetUserBuilding) continuously refetch, causing hundreds of repeated renders and making the app unusable",
    "Component re-render performance issue: ProtectedRoute and Home components render repeatedly in rapid succession due to React Query state changes"
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-implement-internet-identity-authentication-system-that-allows-users-to-log-in-using-their-internet-identity-principal",
      "title": "Implement Internet Identity authentication system that allows users to log in using their Internet Identity principal",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-build-welcome-dashboard-that-displays-a-welcome-message-the-user-s-principal-id-and-indicates-whether-this-is-their-first-login-to-the-system",
      "title": "Build welcome dashboard that displays a welcome message, the user's Principal ID, and indicates whether this is their first login to the system",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-navigation-structure-with-ana-sayfa-home-and-profil-profile-menu-items-designed-to-accommodate-future-expansion-while-keeping-initial-content-minimal",
      "title": "Implement navigation structure with Ana Sayfa (Home) and Profil (Profile) menu items, designed to accommodate future expansion while keeping initial content minimal",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-all-user-interface-text-is-in-turkish-and-the-application-is-fully-responsive-for-mobile-devices",
      "title": "Ensure all user interface text is in Turkish and the application is fully responsive for mobile devices",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-user-list-page-that-displays-all-registered-users-in-the-system-showing-their-principal-id-first-login-date-and-last-login-date-for-each-user",
      "title": "Create a user list page that displays all registered users in the system, showing their Principal ID, first login date, and last login date for each user",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-user-profile-detail-page-that-displays-detailed-information-when-a-user-is-selected-from-the-list-showing-principal-id-first-login-date-last-login-date-and-total-login-count",
      "title": "Create a user profile detail page that displays detailed information when a user is selected from the list, showing Principal ID, first login date, last login date, and total login count",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-kullan-c-lar-users-navigation-menu-item-that-links-to-the-user-list-page",
      "title": "Add a 'Kullanıcılar' (Users) navigation menu item that links to the user list page",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-ana-sayfa-home-page-frontend-to-conditionally-display-building-status-if-the-user-is-not-associated-with-a-building-show-the-message-hen-z-bir-binaya-ba-l-de-ilsiniz-with-a-bina-olu-tur-button-that-opens-a-building-creation-form-if-the-user-is-associated-with-a-building-display-the-building-name",
      "title": "Update the Ana Sayfa (Home page) frontend to conditionally display building status: if the user is not associated with a building, show the message 'Henüz bir binaya bağlı değilsiniz' with a 'Bina Oluştur' button that opens a building creation form; if the user is associated with a building, display the building name",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-building-creation-form-component-in-the-frontend-that-accepts-a-building-name-input-validates-the-input-calls-the-binaolustur-backend-function-and-displays-success-or-error-feedback-in-turkish",
      "title": "Create a building creation form component in the frontend that accepts a building name input, validates the input, calls the binaOlustur backend function, and displays success or error feedback in Turkish",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-role-column-to-the-users-list-page-kullan-c-lar-that-displays-each-user-s-role-bina-sahibi-yetkili-or-sakin-in-turkish",
      "title": "Add a Role column to the Users list page (Kullanıcılar) that displays each user's role (BINA_SAHIBI, YETKILI, or SAKIN) in Turkish",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-display-the-user-s-role-on-the-profile-detail-page-profil-showing-the-role-name-in-turkish",
      "title": "Display the user's role on the Profile detail page (Profil) showing the role name in Turkish",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-establish-the-infrastructure-on-the-home-page-ana-sayfa-to-conditionally-render-content-based-on-user-role-even-though-all-roles-will-display-the-same-content-initially",
      "title": "Establish the infrastructure on the Home page (Ana Sayfa) to conditionally render content based on user role, even though all roles will display the same content initially",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-frontend-invite-code-management-panel-component-on-the-ana-sayfa-home-page-that-displays-only-for-users-with-bina-sahibi-role-showing-a-form-to-create-new-invite-codes-by-selecting-a-role-yetkili-or-sakin-and-a-table-listing-all-created-codes-with-their-details-code-string-role-creation-date-usage-status",
      "title": "Create a frontend invite code management panel component on the Ana Sayfa (Home) page that displays only for users with BINA_SAHIBI role, showing a form to create new invite codes by selecting a role (YETKILI or SAKIN), and a table listing all created codes with their details (code string, role, creation date, usage status)",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-invite-code-registration-option-to-the-login-page-that-displays-an-input-field-for-entering-a-16-digit-invite-code-validates-the-code-format-calls-the-davetkoduilekayitol-backend-function-when-submitted-and-redirects-to-the-home-page-on-successful-registration-with-appropriate-success-error-feedback-in-turkish",
      "title": "Add an invite code registration option to the Login page that displays an input field for entering a 16-digit invite code, validates the code format, calls the davetKoduIleKayitOl backend function when submitted, and redirects to the Home page on successful registration with appropriate success/error feedback in Turkish",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-create-react-query-hooks-for-invite-code-operations-usecreateinvitecode-mutation-for-creating-codes-uselistinvitecodes-query-for-fetching-user-s-codes-and-useregisterwithinvitecode-mutation-for-registering-with-a-code-with-automatic-cache-invalidation-on-successful-operations",
      "title": "Create React Query hooks for invite code operations: useCreateInviteCode mutation for creating codes, useListInviteCodes query for fetching user's codes, and useRegisterWithInviteCode mutation for registering with a code, with automatic cache invalidation on successful operations",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-invite-code-registration-option-completely-from-the-login-page-frontend-src-pages-login-tsx-leaving-only-the-internet-identity-authentication-button",
      "title": "Remove the invite code registration option completely from the Login page (frontend/src/pages/Login.tsx), leaving only the Internet Identity authentication button",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-home-page-frontend-src-pages-home-tsx-to-conditionally-render-based-on-whether-the-user-is-associated-with-a-building-if-user-has-no-building-display-a-centered-onboarding-section-with-bina-olu-tur-create-building-button-and-davet-kodu-gir-enter-invite-code-input-field-with-submit-button-if-user-has-a-building-display-the-normal-role-based-panel-content",
      "title": "Update the Home page (frontend/src/pages/Home.tsx) to conditionally render based on whether the user is associated with a building: if user has no building, display a centered onboarding section with 'Bina Oluştur' (Create Building) button and 'Davet Kodu Gir' (Enter Invite Code) input field with submit button; if user has a building, display the normal role-based panel content",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    },
    {
      "id": "feature-move-the-invitecoderegistration-component-functionality-from-the-login-page-to-the-home-page-onboarding-section-integrating-it-as-the-davet-kodu-gir-field-that-appears-for-users-without-a-building-assignment",
      "title": "Move the InviteCodeRegistration component functionality from the Login page to the Home page onboarding section, integrating it as the 'Davet Kodu Gir' field that appears for users without a building assignment",
      "reqIds": [
        "REQ-33"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-home-page-layout-to-ensure-the-onboarding-section-with-bina-olu-tur-and-davet-kodu-gir-is-visually-clear-and-welcoming-with-proper-spacing-card-based-design-consistent-with-existing-ui-patterns-and-clear-action-prompts-in-turkish",
      "title": "Update the Home page layout to ensure the onboarding section (with 'Bina Oluştur' and 'Davet Kodu Gir') is visually clear and welcoming, with proper spacing, card-based design consistent with existing UI patterns, and clear action prompts in Turkish",
      "reqIds": [
        "REQ-34"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-that-after-a-user-successfully-creates-a-building-via-the-bina-olu-tur-button-on-the-home-page-the-page-automatically-refreshes-or-updates-to-show-the-normal-role-based-panel-content-instead-of-the-onboarding-section",
      "title": "Ensure that after a user successfully creates a building via the 'Bina Oluştur' button on the home page, the page automatically refreshes or updates to show the normal role-based panel content instead of the onboarding section",
      "reqIds": [
        "REQ-35"
      ],
      "version": 1
    },
    {
      "id": "feature-redesign-the-login-page-frontend-src-pages-login-tsx-to-display-three-distinct-onboarding-cards-panels-simultaneously-on-the-same-screen-1-building-owner-card-with-bina-olu-tur-create-building-option-2-authority-card-with-davet-kodu-gir-enter-invite-code-option-for-yetkili-role-and-3-resident-staff-card-with-davet-kodu-gir-enter-invite-code-option-for-sakin-role",
      "title": "Redesign the Login page (frontend/src/pages/Login.tsx) to display three distinct onboarding cards/panels simultaneously on the same screen: (1) Building Owner card with 'Bina Oluştur' (Create Building) option, (2) Authority card with 'Davet Kodu Gir' (Enter Invite Code) option for YETKILI role, and (3) Resident/Staff card with 'Davet Kodu Gir' (Enter Invite Code) option for SAKIN role",
      "reqIds": [
        "REQ-36"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-onboarding-flow-selection-mechanism-where-clicking-the-internet-identity-button-within-each-card-stores-the-selected-flow-type-building-owner-authority-or-resident-in-session-storage-or-state-before-initiating-authentication",
      "title": "Implement onboarding flow selection mechanism where clicking the Internet Identity button within each card stores the selected flow type (building-owner, authority, or resident) in session storage or state before initiating authentication",
      "reqIds": [
        "REQ-37"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-post-login-routing-logic-to-handle-the-three-onboarding-flows-1-building-owner-flow-redirects-to-building-creation-form-2-authority-flow-redirects-to-invite-code-entry-for-yetkili-role-3-resident-flow-redirects-to-invite-code-entry-for-sakin-role",
      "title": "Update the post-login routing logic to handle the three onboarding flows: (1) Building Owner flow redirects to building creation form, (2) Authority flow redirects to invite code entry for YETKILI role, (3) Resident flow redirects to invite code entry for SAKIN role",
      "reqIds": [
        "REQ-38"
      ],
      "version": 1
    },
    {
      "id": "feature-design-each-onboarding-card-with-a-clear-visual-hierarchy-including-an-icon-or-illustration-representing-the-user-type-a-title-in-turkish-a-brief-description-of-that-user-type-s-purpose-and-a-prominent-internet-identity-login-button-with-role-specific-styling",
      "title": "Design each onboarding card with a clear visual hierarchy including an icon or illustration representing the user type, a title in Turkish, a brief description of that user type's purpose, and a prominent Internet Identity login button with role-specific styling",
      "reqIds": [
        "REQ-39"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-invitecodepanel-component-frontend-src-components-invitecodepanel-tsx-to-dynamically-display-role-selection-options-based-on-the-authenticated-user-s-role-if-user-is-bina-sahibi-show-dropdown-options-for-both-yetkili-and-sakin-if-user-is-yetkili-show-only-sakin-option-if-user-is-sakin-hide-the-entire-invite-code-creation-panel",
      "title": "Update the InviteCodePanel component (frontend/src/components/InviteCodePanel.tsx) to dynamically display role selection options based on the authenticated user's role: if user is BINA_SAHIBI, show dropdown options for both 'Yetkili' and 'Sakin'; if user is YETKILI, show only 'Sakin' option; if user is SAKIN, hide the entire invite code creation panel.",
      "reqIds": [
        "REQ-41"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-home-page-frontend-src-pages-home-tsx-to-conditionally-render-the-invitecodepanel-only-for-users-with-bina-sahibi-or-yetkili-roles-ensuring-sakin-users-do-not-see-any-invite-code-management-interface-on-the-home-page",
      "title": "Update the Home page (frontend/src/pages/Home.tsx) to conditionally render the InviteCodePanel only for users with BINA_SAHIBI or YETKILI roles, ensuring SAKIN users do not see any invite code management interface on the home page.",
      "reqIds": [
        "REQ-43"
      ],
      "version": 1
    },
    {
      "id": "feature-add-frontend-error-handling-in-the-invitecodepanel-component-to-display-turkish-error-messages-when-invite-code-creation-fails-due-to-insufficient-permissions-using-the-toast-or-alert-pattern-consistent-with-existing-error-handling-in-the-application",
      "title": "Add frontend error handling in the InviteCodePanel component to display Turkish error messages when invite code creation fails due to insufficient permissions, using the toast or alert pattern consistent with existing error handling in the application.",
      "reqIds": [
        "REQ-44"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-post-authentication-routing-logic-in-frontend-src-app-tsx-to-correctly-handle-the-three-onboarding-flows-stored-in-session-storage-1-building-owner-flow-should-redirect-to-home-page-with-building-creation-form-2-authority-flow-should-redirect-to-home-page-with-invite-code-entry-section-3-resident-flow-should-redirect-to-home-page-with-invite-code-entry-section-instead-of-all-flows-redirecting-to-the-building-management-page",
      "title": "Update the post-authentication routing logic in frontend/src/App.tsx to correctly handle the three onboarding flows stored in session storage: (1) 'building-owner' flow should redirect to Home page with building creation form, (2) 'authority' flow should redirect to Home page with invite code entry section, (3) 'resident' flow should redirect to Home page with invite code entry section, instead of all flows redirecting to the building management page",
      "reqIds": [
        "REQ-45"
      ],
      "version": 1
    },
    {
      "id": "feature-verify-and-fix-the-session-storage-persistence-mechanism-in-frontend-src-utils-urlparams-ts-to-ensure-the-onboarding-flow-type-building-owner-authority-or-resident-selected-on-the-login-page-is-correctly-stored-and-retrieved-after-internet-identity-authentication-completes",
      "title": "Verify and fix the session storage persistence mechanism in frontend/src/utils/urlParams.ts to ensure the onboarding flow type ('building-owner', 'authority', or 'resident') selected on the Login page is correctly stored and retrieved after Internet Identity authentication completes",
      "reqIds": [
        "REQ-46"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-home-page-frontend-src-pages-home-tsx-conditional-rendering-logic-to-properly-display-the-onboarding-section-with-appropriate-controls-based-on-the-user-s-selected-onboarding-flow-show-building-creation-button-for-building-owner-flow-show-invite-code-entry-for-authority-and-resident-flows",
      "title": "Update the Home page (frontend/src/pages/Home.tsx) conditional rendering logic to properly display the onboarding section with appropriate controls based on the user's selected onboarding flow: show building creation button for 'building-owner' flow, show invite code entry for 'authority' and 'resident' flows",
      "reqIds": [
        "REQ-47"
      ],
      "version": 1
    },
    {
      "id": "feature-add-debugging-logging-or-console-output-in-the-authentication-flow-to-track-the-onboarding-flow-selection-session-storage-state-and-routing-decisions-to-identify-where-the-incorrect-redirection-to-building-management-page-is-occurring",
      "title": "Add debugging logging or console output in the authentication flow to track the onboarding flow selection, session storage state, and routing decisions to identify where the incorrect redirection to building management page is occurring",
      "reqIds": [
        "REQ-48"
      ],
      "version": 1
    },
    {
      "id": "feature-create-three-separate-dashboard-page-components-in-the-frontend-ownerdashboard-tsx-for-bina-sahibi-users-managerdashboard-tsx-for-yetkili-users-and-residentdashboard-tsx-for-sakin-users-each-containing-role-appropriate-content-placeholders",
      "title": "Create three separate dashboard page components in the frontend: OwnerDashboard.tsx for BINA_SAHIBI users, ManagerDashboard.tsx for YETKILI users, and ResidentDashboard.tsx for SAKIN users, each containing role-appropriate content placeholders",
      "reqIds": [
        "REQ-49"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-ownerdashboard-component-to-display-full-management-features-including-invite-code-creation-panel-for-both-yetkili-and-sakin-roles-user-list-access-and-management-module-placeholders-with-turkish-labels",
      "title": "Implement OwnerDashboard component to display full management features including invite code creation panel for both YETKILI and SAKIN roles, user list access, and management module placeholders with Turkish labels",
      "reqIds": [
        "REQ-50"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-managerdashboard-component-to-display-limited-management-features-including-invite-code-creation-panel-for-sakin-role-only-issue-task-management-placeholders-with-explicit-restrictions-preventing-yetkili-invite-creation-and-building-settings-access",
      "title": "Implement ManagerDashboard component to display limited management features including invite code creation panel for SAKIN role only, issue/task management placeholders, with explicit restrictions preventing YETKILI invite creation and building settings access",
      "reqIds": [
        "REQ-51"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-residentdashboard-component-to-display-basic-resident-features-including-announcements-display-and-issue-reporting-placeholders-with-no-access-to-any-management-or-invite-code-features",
      "title": "Implement ResidentDashboard component to display basic resident features including announcements display and issue reporting placeholders, with no access to any management or invite code features",
      "reqIds": [
        "REQ-52"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-post-authentication-routing-logic-in-frontend-src-app-tsx-to-fetch-the-authenticated-user-s-role-from-their-profile-and-redirect-to-the-appropriate-role-specific-dashboard-bina-sahibi-users-to-owner-dashboard-yetkili-users-to-manager-dashboard-and-sakin-users-to-resident-dashboard",
      "title": "Update the post-authentication routing logic in frontend/src/App.tsx to fetch the authenticated user's role from their profile and redirect to the appropriate role-specific dashboard: BINA_SAHIBI users to /owner-dashboard, YETKILI users to /manager-dashboard, and SAKIN users to /resident-dashboard",
      "reqIds": [
        "REQ-53"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-or-deprecate-the-existing-building-management-page-route-building-management-that-currently-receives-all-authenticated-users-ensuring-it-is-no-longer-used-as-a-default-landing-page-after-login",
      "title": "Remove or deprecate the existing building management page route (/building-management) that currently receives all authenticated users, ensuring it is no longer used as a default landing page after login",
      "reqIds": [
        "REQ-54"
      ],
      "version": 1
    },
    {
      "id": "feature-add-route-definitions-in-the-frontend-router-for-the-three-new-dashboard-pages-owner-dashboard-manager-dashboard-and-resident-dashboard-ensuring-each-route-is-protected-and-requires-authentication",
      "title": "Add route definitions in the frontend router for the three new dashboard pages: /owner-dashboard, /manager-dashboard, and /resident-dashboard, ensuring each route is protected and requires authentication",
      "reqIds": [
        "REQ-55"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-navigation-component-to-display-role-appropriate-menu-items-show-full-navigation-options-for-bina-sahibi-limited-options-for-yetkili-excluding-building-settings-and-minimal-options-for-sakin-excluding-all-management-features",
      "title": "Update the Navigation component to display role-appropriate menu items: show full navigation options for BINA_SAHIBI, limited options for YETKILI (excluding building settings), and minimal options for SAKIN (excluding all management features)",
      "reqIds": [
        "REQ-56"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-user-list-component-in-the-owner-dashboard-ownerdashboard-tsx-that-displays-all-users-in-the-building-with-columns-for-principal-id-role-displayed-in-turkish-using-roletranslations-utility-and-apartment-assignment-daire-field-that-initially-shows-empty-null-values",
      "title": "Create a user list component in the Owner Dashboard (OwnerDashboard.tsx) that displays all users in the building with columns for Principal ID, role (displayed in Turkish using roleTranslations utility), and apartment assignment (daire) field that initially shows empty/null values",
      "reqIds": [
        "REQ-57"
      ],
      "version": 1
    },
    {
      "id": "feature-create-react-query-hook-uselistbuildingusers-in-frontend-src-hooks-usequeries-ts-that-fetches-the-building-user-list-using-the-kullanicilarilistele-backend-function",
      "title": "Create React Query hook useListBuildingUsers in frontend/src/hooks/useQueries.ts that fetches the building user list using the kullanicilariListele backend function",
      "reqIds": [
        "REQ-59"
      ],
      "version": 1
    },
    {
      "id": "feature-integrate-the-invitecodepanel-component-into-the-owner-dashboard-to-display-the-existing-invite-code-management-interface-with-both-yetkili-and-sakin-role-creation-options",
      "title": "Integrate the InviteCodePanel component into the Owner Dashboard to display the existing invite code management interface with both YETKILI and SAKIN role creation options",
      "reqIds": [
        "REQ-60"
      ],
      "version": 1
    },
    {
      "id": "feature-create-apartment-creation-form-component-in-the-owner-dashboard-that-accepts-a-daireadi-input-field-validates-it-calls-the-daireolustur-backend-function-and-displays-success-error-feedback-in-turkish",
      "title": "Create apartment creation form component in the Owner Dashboard that accepts a daireAdi input field, validates it, calls the daireOlustur backend function, and displays success/error feedback in Turkish",
      "reqIds": [
        "REQ-65"
      ],
      "version": 1
    },
    {
      "id": "feature-create-apartment-list-component-in-the-owner-dashboard-that-displays-all-apartments-in-a-table-format-showing-daireadi-and-creation-date",
      "title": "Create apartment list component in the Owner Dashboard that displays all apartments in a table format showing daireAdi and creation date",
      "reqIds": [
        "REQ-66"
      ],
      "version": 1
    },
    {
      "id": "feature-create-react-query-hooks-in-frontend-src-hooks-usequeries-ts-for-apartment-operations-usecreateapartment-mutation-for-creating-apartments-and-uselistapartments-query-for-fetching-apartments-with-automatic-cache-invalidation-on-successful-creation",
      "title": "Create React Query hooks in frontend/src/hooks/useQueries.ts for apartment operations: useCreateApartment mutation for creating apartments and useListApartments query for fetching apartments, with automatic cache invalidation on successful creation",
      "reqIds": [
        "REQ-67"
      ],
      "version": 1
    },
    {
      "id": "feature-create-announcement-creation-form-component-in-the-owner-dashboard-with-input-fields-for-baslik-title-and-aciklama-description-validation-backend-integration-calling-duyuruolustur-and-turkish-success-error-feedback",
      "title": "Create announcement creation form component in the Owner Dashboard with input fields for baslik (title) and aciklama (description), validation, backend integration calling duyuruOlustur, and Turkish success/error feedback",
      "reqIds": [
        "REQ-71"
      ],
      "version": 1
    },
    {
      "id": "feature-create-announcement-list-component-in-the-owner-dashboard-that-displays-all-announcements-in-card-format-showing-baslik-aciklama-creation-date-and-creator-information",
      "title": "Create announcement list component in the Owner Dashboard that displays all announcements in card format showing baslik, aciklama, creation date, and creator information",
      "reqIds": [
        "REQ-72"
      ],
      "version": 1
    },
    {
      "id": "feature-create-react-query-hooks-in-frontend-src-hooks-usequeries-ts-for-announcement-operations-usecreateannouncement-mutation-for-creating-announcements-and-uselistannouncements-query-for-fetching-announcements-with-automatic-cache-invalidation-on-successful-creation",
      "title": "Create React Query hooks in frontend/src/hooks/useQueries.ts for announcement operations: useCreateAnnouncement mutation for creating announcements and useListAnnouncements query for fetching announcements, with automatic cache invalidation on successful creation",
      "reqIds": [
        "REQ-73"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-ownerdashboard-tsx-layout-to-organize-the-four-feature-sections-user-list-invite-code-management-apartment-management-announcement-management-in-a-clear-scannable-layout-with-section-headers-in-turkish-and-consistent-spacing",
      "title": "Update the OwnerDashboard.tsx layout to organize the four feature sections (user list, invite code management, apartment management, announcement management) in a clear, scannable layout with section headers in Turkish and consistent spacing",
      "reqIds": [
        "REQ-74"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-managerdashboard-component-frontend-src-pages-managerdashboard-tsx-to-display-the-invitecodepanel-component-with-restricted-options-that-only-allow-yetkili-users-to-create-invite-codes-for-sakin-role-ensuring-the-panel-validates-permissions-properly",
      "title": "Update the ManagerDashboard component (frontend/src/pages/ManagerDashboard.tsx) to display the InviteCodePanel component with restricted options that only allow YETKILI users to create invite codes for SAKIN role, ensuring the panel validates permissions properly",
      "reqIds": [
        "REQ-75"
      ],
      "version": 1
    },
    {
      "id": "feature-create-an-issue-fault-list-component-in-the-managerdashboard-that-displays-open-issues-ar-zalar-in-a-table-format-with-columns-for-apartment-daire-reporting-user-bildiren-status-durum-and-creation-date",
      "title": "Create an issue/fault list component in the ManagerDashboard that displays open issues (arızalar) in a table format with columns for apartment (daire), reporting user (bildiren), status (durum), and creation date",
      "reqIds": [
        "REQ-76"
      ],
      "version": 1
    },
    {
      "id": "feature-create-react-query-hook-uselistissues-in-frontend-src-hooks-usequeries-ts-that-fetches-issues-for-the-authenticated-user-s-building-using-the-arizalarilistele-backend-function-with-proper-loading-and-error-state-management",
      "title": "Create React Query hook useListIssues in frontend/src/hooks/useQueries.ts that fetches issues for the authenticated user's building using the arizalariListele backend function, with proper loading and error state management",
      "reqIds": [
        "REQ-77"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-managerdashboard-layout-to-organize-the-two-feature-sections-resident-invite-code-management-and-issue-tracking-in-a-clear-scannable-layout-with-turkish-section-headers-sakin-davet-y-netimi-a-k-ar-zalar-and-consistent-spacing-matching-ownerdashboard-patterns",
      "title": "Update the ManagerDashboard layout to organize the two feature sections (resident invite code management and issue tracking) in a clear, scannable layout with Turkish section headers ('Sakin Davet Yönetimi', 'Açık Arızalar') and consistent spacing matching OwnerDashboard patterns",
      "reqIds": [
        "REQ-78"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-visual-apartment-layout-grid-component-dairegorunumu-tsx-in-the-frontend-that-displays-all-apartments-in-an-interactive-grid-card-layout-showing-apartment-name-number-daireadi-on-each-card",
      "title": "Create a visual apartment layout grid component (DaireGorunumu.tsx) in the frontend that displays all apartments in an interactive grid/card layout, showing apartment name/number (daireAdi) on each card",
      "reqIds": [
        "REQ-79"
      ],
      "version": 1
    },
    {
      "id": "feature-integrate-the-dairegorunumu-component-into-the-ownerdashboard-page-frontend-src-pages-ownerdashboard-tsx-as-a-new-section-titled-daire-g-r-n-m-positioned-after-the-existing-apartment-management-section",
      "title": "Integrate the DaireGorunumu component into the OwnerDashboard page (frontend/src/pages/OwnerDashboard.tsx) as a new section titled 'Daire Görünümü' positioned after the existing apartment management section",
      "reqIds": [
        "REQ-80"
      ],
      "version": 1
    },
    {
      "id": "feature-add-visual-indicators-to-apartment-cards-showing-occupancy-status-display-a-subtle-badge-or-icon-indicating-whether-the-apartment-is-assigned-to-a-user-based-on-checking-if-any-user-s-daireid-matches-the-apartment-s-daireid",
      "title": "Add visual indicators to apartment cards showing occupancy status: display a subtle badge or icon indicating whether the apartment is assigned to a user (based on checking if any user's daireId matches the apartment's daireId)",
      "reqIds": [
        "REQ-81"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-hover-interactions-on-apartment-cards-that-display-additional-information-in-a-tooltip-or-popover-including-creation-date-olusturmatarihi-formatted-in-turkish-locale",
      "title": "Implement hover interactions on apartment cards that display additional information in a tooltip or popover, including creation date (olusturmaTarihi) formatted in Turkish locale",
      "reqIds": [
        "REQ-82"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-residentdashboard-component-frontend-src-pages-residentdashboard-tsx-to-display-a-comprehensive-announcements-list-section-showing-all-building-announcements-with-title-baslik-description-aciklama-creation-date-and-creator-information-in-a-card-based-layout-with-proper-spacing-and-turkish-section-header-duyurular",
      "title": "Update the ResidentDashboard component (frontend/src/pages/ResidentDashboard.tsx) to display a comprehensive announcements list section showing all building announcements with title (baslik), description (aciklama), creation date, and creator information in a card-based layout with proper spacing and Turkish section header 'Duyurular'",
      "reqIds": [
        "REQ-83"
      ],
      "version": 1
    },
    {
      "id": "feature-create-an-issue-reporting-form-component-issuereportform-tsx-in-the-frontend-that-allows-sakin-users-to-report-building-issues-faults-with-input-fields-for-baslik-title-aciklama-description-and-daireid-apartment-selection-via-dropdown-form-validation-and-success-error-feedback-in-turkish",
      "title": "Create an issue reporting form component (IssueReportForm.tsx) in the frontend that allows SAKIN users to report building issues/faults with input fields for baslik (title), aciklama (description), and daireId (apartment selection via dropdown), form validation, and success/error feedback in Turkish",
      "reqIds": [
        "REQ-84"
      ],
      "version": 1
    },
    {
      "id": "feature-create-react-query-mutation-hook-usereportissue-in-frontend-src-hooks-usequeries-ts-that-calls-the-arizabildir-backend-function-handles-loading-states-and-invalidates-the-issues-query-cache-on-successful-issue-creation",
      "title": "Create React Query mutation hook useReportIssue in frontend/src/hooks/useQueries.ts that calls the arizaBildir backend function, handles loading states, and invalidates the 'issues' query cache on successful issue creation",
      "reqIds": [
        "REQ-86"
      ],
      "version": 1
    },
    {
      "id": "feature-integrate-the-issuereportform-component-into-the-residentdashboard-page-with-a-clear-turkish-section-header-ar-za-bildir-positioned-below-the-announcements-section-with-consistent-spacing-and-layout-matching-ownerdashboard-patterns",
      "title": "Integrate the IssueReportForm component into the ResidentDashboard page with a clear Turkish section header 'Arıza Bildir', positioned below the announcements section with consistent spacing and layout matching OwnerDashboard patterns",
      "reqIds": [
        "REQ-87"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-residentdashboard-layout-to-organize-the-two-feature-sections-announcements-display-and-issue-reporting-in-a-clear-scannable-two-column-or-stacked-layout-with-proper-card-containers-consistent-with-ownerdashboard-and-managerdashboard-design-patterns",
      "title": "Update the ResidentDashboard layout to organize the two feature sections (announcements display and issue reporting) in a clear, scannable two-column or stacked layout with proper card containers, consistent with OwnerDashboard and ManagerDashboard design patterns",
      "reqIds": [
        "REQ-88"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-race-condition-in-frontend-src-pages-home-tsx-where-the-onboarding-flow-mode-is-retrieved-from-session-storage-set-to-component-state-then-immediately-cleared-from-storage-before-the-component-can-use-it-to-render-the-appropriate-onboarding-ui-ensure-the-mode-persists-in-component-state-long-enough-to-render-the-correct-onboarding-section-building-creation-form-for-building-owner-flow-invite-code-entry-for-authority-and-resident-flows",
      "title": "Fix the race condition in frontend/src/pages/Home.tsx where the onboarding flow mode is retrieved from session storage, set to component state, then immediately cleared from storage before the component can use it to render the appropriate onboarding UI. Ensure the mode persists in component state long enough to render the correct onboarding section (building creation form for 'building-owner' flow, invite code entry for 'authority' and 'resident' flows).",
      "reqIds": [
        "REQ-89"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-useeffect-hook-timing-in-frontend-src-pages-home-tsx-to-prevent-the-onboarding-flow-from-being-cleared-from-session-storage-before-the-component-state-is-updated-ensure-the-clearonboardingflow-call-only-happens-after-the-onboarding-mode-has-been-successfully-set-in-local-component-state",
      "title": "Update the useEffect hook timing in frontend/src/pages/Home.tsx to prevent the onboarding flow from being cleared from session storage before the component state is updated. Ensure the clearOnboardingFlow() call only happens after the onboarding mode has been successfully set in local component state.",
      "reqIds": [
        "REQ-90"
      ],
      "version": 1
    },
    {
      "id": "feature-add-defensive-checks-in-the-home-page-onboarding-section-rendering-logic-to-handle-the-case-where-mode-is-null-but-the-user-has-selected-an-onboarding-flow-if-mode-is-null-attempt-to-retrieve-the-flow-from-session-storage-one-more-time-before-rendering-the-default-state",
      "title": "Add defensive checks in the Home page onboarding section rendering logic to handle the case where mode is null but the user has selected an onboarding flow. If mode is null, attempt to retrieve the flow from session storage one more time before rendering the default state.",
      "reqIds": [
        "REQ-91"
      ],
      "version": 1
    },
    {
      "id": "feature-debug-and-fix-the-post-authentication-routing-flow-in-frontend-src-app-tsx-to-ensure-users-are-correctly-redirected-to-their-role-specific-dashboards-ownerdashboard-managerdashboard-or-residentdashboard-after-internet-identity-authentication-completes-preventing-the-blank-screen-issue",
      "title": "Debug and fix the post-authentication routing flow in frontend/src/App.tsx to ensure users are correctly redirected to their role-specific dashboards (OwnerDashboard, ManagerDashboard, or ResidentDashboard) after Internet Identity authentication completes, preventing the blank screen issue",
      "reqIds": [
        "REQ-92"
      ],
      "version": 1
    },
    {
      "id": "feature-verify-that-the-user-profile-query-in-frontend-src-app-tsx-properly-fetches-the-authenticated-user-s-role-and-building-association-immediately-after-internet-identity-authentication-with-proper-error-handling-for-failed-profile-fetches",
      "title": "Verify that the user profile query in frontend/src/App.tsx properly fetches the authenticated user's role and building association immediately after Internet Identity authentication, with proper error handling for failed profile fetches",
      "reqIds": [
        "REQ-93"
      ],
      "version": 1
    },
    {
      "id": "feature-add-defensive-checks-in-the-role-specific-dashboard-components-ownerdashboard-tsx-managerdashboard-tsx-residentdashboard-tsx-to-handle-cases-where-user-profile-data-is-missing-or-incomplete-displaying-appropriate-loading-states-or-error-messages-in-turkish",
      "title": "Add defensive checks in the role-specific dashboard components (OwnerDashboard.tsx, ManagerDashboard.tsx, ResidentDashboard.tsx) to handle cases where user profile data is missing or incomplete, displaying appropriate loading states or error messages in Turkish",
      "reqIds": [
        "REQ-94"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-onboarding-flow-handling-in-frontend-src-pages-home-tsx-to-ensure-the-component-properly-renders-onboarding-ui-for-new-users-without-buildings-and-role-based-dashboard-content-for-existing-users-with-building-assignments",
      "title": "Fix the onboarding flow handling in frontend/src/pages/Home.tsx to ensure the component properly renders onboarding UI for new users without buildings, and role-based dashboard content for existing users with building assignments",
      "reqIds": [
        "REQ-95"
      ],
      "version": 1
    },
    {
      "id": "feature-verify-that-the-react-query-cache-invalidation-logic-properly-refreshes-user-profile-data-after-building-creation-invite-code-registration-and-role-assignment-operations-to-ensure-ui-updates-reflect-the-latest-user-state",
      "title": "Verify that the React Query cache invalidation logic properly refreshes user profile data after building creation, invite code registration, and role assignment operations to ensure UI updates reflect the latest user state",
      "reqIds": [
        "REQ-96"
      ],
      "version": 1
    },
    {
      "id": "feature-update-react-query-configuration-in-usegetcalleruserprofile-hook-frontend-src-hooks-usequeries-ts-to-disable-aggressive-background-refetching-by-setting-refetchonwindowfocus-to-false-refetchonreconnect-to-false-and-staletime-to-a-reasonable-duration-e-g-5-minutes-to-prevent-the-infinite-query-loop",
      "title": "Update React Query configuration in useGetCallerUserProfile hook (frontend/src/hooks/useQueries.ts) to disable aggressive background refetching by setting refetchOnWindowFocus to false, refetchOnReconnect to false, and staleTime to a reasonable duration (e.g., 5 minutes) to prevent the infinite query loop",
      "reqIds": [
        "REQ-97"
      ],
      "version": 1
    },
    {
      "id": "feature-update-react-query-configuration-in-usegetuserbuilding-hook-frontend-src-hooks-usequeries-ts-to-disable-aggressive-background-refetching-by-setting-refetchonwindowfocus-to-false-refetchonreconnect-to-false-and-staletime-to-a-reasonable-duration-e-g-5-minutes",
      "title": "Update React Query configuration in useGetUserBuilding hook (frontend/src/hooks/useQueries.ts) to disable aggressive background refetching by setting refetchOnWindowFocus to false, refetchOnReconnect to false, and staleTime to a reasonable duration (e.g., 5 minutes)",
      "reqIds": [
        "REQ-98"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-onboarding-flow-state-management-race-condition-in-frontend-src-pages-home-tsx-by-modifying-the-useeffect-hook-to-only-call-clearonboardingflow-after-the-mode-has-been-successfully-set-in-local-component-state-and-the-component-has-rendered-with-that-mode-at-least-once-preventing-premature-session-storage-clearing",
      "title": "Fix the onboarding flow state management race condition in frontend/src/pages/Home.tsx by modifying the useEffect hook to only call clearOnboardingFlow() after the mode has been successfully set in local component state and the component has rendered with that mode at least once, preventing premature session storage clearing",
      "reqIds": [
        "REQ-99"
      ],
      "version": 1
    },
    {
      "id": "feature-add-loading-state-guards-in-frontend-src-app-tsx-post-authentication-routing-logic-to-prevent-rendering-or-redirecting-until-both-the-user-profile-query-and-building-query-have-completed-loading-displaying-a-loading-spinner-or-message-while-data-is-being-fetched",
      "title": "Add loading state guards in frontend/src/App.tsx post-authentication routing logic to prevent rendering or redirecting until both the user profile query and building query have completed loading, displaying a loading spinner or message while data is being fetched",
      "reqIds": [
        "REQ-100"
      ],
      "version": 1
    },
    {
      "id": "feature-update-all-other-react-query-hooks-in-frontend-src-hooks-usequeries-ts-uselistinvitecodes-uselistbuildingusers-uselistapartments-uselistannouncements-uselistissues-to-include-refetchonwindowfocus-false-and-refetchonreconnect-false-to-prevent-unnecessary-background-refetching",
      "title": "Update all other React Query hooks in frontend/src/hooks/useQueries.ts (useListInviteCodes, useListBuildingUsers, useListApartments, useListAnnouncements, useListIssues) to include refetchOnWindowFocus: false and refetchOnReconnect: false to prevent unnecessary background refetching",
      "reqIds": [
        "REQ-101"
      ],
      "version": 1
    },
    {
      "id": "feature-add-defensive-null-undefined-checks-in-the-protectedroute-component-frontend-src-app-tsx-to-prevent-rendering-child-components-when-user-profile-data-is-incomplete-or-missing-displaying-a-turkish-loading-message-profil-y-kleniyor-or-error-message-profil-verisi-al-namad-as-appropriate",
      "title": "Add defensive null/undefined checks in the ProtectedRoute component (frontend/src/App.tsx) to prevent rendering child components when user profile data is incomplete or missing, displaying a Turkish loading message ('Profil yükleniyor...') or error message ('Profil verisi alınamadı') as appropriate",
      "reqIds": [
        "REQ-102"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-home-page-frontend-src-pages-home-tsx-onboarding-section-conditional-rendering-to-add-a-fallback-that-retrieves-the-onboarding-flow-from-session-storage-one-more-time-if-the-local-mode-state-is-null-preventing-the-default-empty-state-from-rendering-when-a-flow-was-actually-selected",
      "title": "Update the Home page (frontend/src/pages/Home.tsx) onboarding section conditional rendering to add a fallback that retrieves the onboarding flow from session storage one more time if the local mode state is null, preventing the default empty state from rendering when a flow was actually selected",
      "reqIds": [
        "REQ-103"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-6",
      "summary": "Create backend user registration system that stores Principal ID, first login timestamp, and last login timestamp for each authenticated user",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Design the backend architecture to support future role-based access and multi-tenant functionality without requiring major refactoring, even though these features are not implemented in this phase",
      "reqIds": [
        "REQ-6"
      ],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Add backend function to retrieve a list of all registered users with their Principal ID, first login timestamp, and last login timestamp",
      "reqIds": [
        "REQ-9"
      ],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Implement login count tracking in the backend user profile system to record the total number of logins for each user",
      "reqIds": [
        "REQ-10"
      ],
      "status": "pending"
    },
    {
      "id": "AR-21",
      "summary": "Create a Bina (Building/Tenant) data model in the backend with fields: binaId (unique identifier), binaAdi (building name), olusturulmaTarihi (creation timestamp), olusturanPrincipal (creator's Principal ID)",
      "reqIds": [
        "REQ-12"
      ],
      "status": "pending"
    },
    {
      "id": "AR-22",
      "summary": "Add a nullable binaId field to the existing User/Profile model in the backend to establish the user-building relationship, where each user can be associated with at most one building",
      "reqIds": [
        "REQ-13"
      ],
      "status": "pending"
    },
    {
      "id": "AR-23",
      "summary": "Implement a binaOlustur(binaAdi: Text) backend function that creates a new building with the provided name, automatically assigns the calling user as the building owner, and links the user to the newly created building by setting their binaId",
      "reqIds": [
        "REQ-14"
      ],
      "status": "pending"
    },
    {
      "id": "AR-24",
      "summary": "Implement a kullaniciBinasiniGetir() backend function that retrieves the building information associated with the authenticated user, returning null if the user is not linked to any building",
      "reqIds": [
        "REQ-15"
      ],
      "status": "pending"
    },
    {
      "id": "AR-30",
      "summary": "Add a role field to the User/Profile model in the backend that stores one of three possible values: BINA_SAHIBI (Building Owner), YETKILI (Authority), or SAKIN (Resident)",
      "reqIds": [
        "REQ-18"
      ],
      "status": "pending"
    },
    {
      "id": "AR-31",
      "summary": "Modify the binaOlustur function in the backend to automatically assign the BINA_SAHIBI role to the user who creates a building",
      "reqIds": [
        "REQ-19"
      ],
      "status": "pending"
    },
    {
      "id": "AR-32",
      "summary": "Update the backend API to return the user's role as part of the profile data when queried by kullaniciBilgisiniGetir or similar functions",
      "reqIds": [
        "REQ-20"
      ],
      "status": "pending"
    },
    {
      "id": "AR-33",
      "summary": "16 haneli benzersiz davet kodu oluşturma sistemi",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-34",
      "summary": "Davet kodu modeli: kod, binaId, rol, oluşturan, oluşturma tarihi, kullanıldı mı, kullanım tarihi",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-35",
      "summary": "BINA_SAHIBI kullanıcılar için davet kodu oluşturma fonksiyonu",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-36",
      "summary": "Davet kodu ile kayıt/giriş fonksiyonu: kod doğrulama, kullanıcıyı binaya ve role atama",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-37",
      "summary": "Ana sayfa: BINA_SAHIBI için davet kodu yönetim paneli (kod oluşturma, mevcut kodları listeleme)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-39",
      "summary": "Create a backend data model for invite codes (DavetKodu) with fields: kod (16-character unique code string), binaId (building identifier), rol (role to be assigned: BINA_SAHIBI, YETKILI, or SAKIN), olusturanPrincipal (creator's Principal ID), olusturmaTarihi (creation timestamp), kullanilidMi (boolean indicating if code was used), kullanimTarihi (optional timestamp when code was used), and kullananPrincipal (optional Principal ID of user who used the code)",
      "reqIds": [
        "REQ-24"
      ],
      "status": "pending"
    },
    {
      "id": "AR-40",
      "summary": "Implement backend function davetKoduOlustur(rol: Role) that generates a unique 16-digit alphanumeric invite code, creates a new DavetKodu record associated with the authenticated user's building and specified role, stores it in stable storage, and returns the generated code",
      "reqIds": [
        "REQ-25"
      ],
      "status": "pending"
    },
    {
      "id": "AR-41",
      "summary": "Implement backend function davetKoduIleKayitOl(kod: Text) that validates the invite code, verifies it is unused, assigns the authenticated user to the code's building and role, marks the code as used with timestamp and user principal, and returns success or appropriate error messages",
      "reqIds": [
        "REQ-26"
      ],
      "status": "pending"
    },
    {
      "id": "AR-42",
      "summary": "Implement backend function davetKodlariniListele() that returns an array of all invite codes created by the authenticated user, including code string, assigned role, creation date, usage status, and usage date if applicable",
      "reqIds": [
        "REQ-27"
      ],
      "status": "pending"
    },
    {
      "id": "AR-43",
      "summary": "Login sayfasından davet kodu ile giriş seçeneğini kaldır - sadece Internet Identity ile giriş kalacak",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-44",
      "summary": "Ana sayfada binaya bağlı olmayan kullanıcılar için 'Bina Oluştur' ve 'Davet Kodu Gir' seçeneklerini göster, binaya bağlı kullanıcılar için normal panel göster",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-45",
      "summary": "Implement hierarchical invite code permissions: BINA_SAHIBI can create codes for YETKILI and SAKIN; YETKILI can create codes only for SAKIN; SAKIN cannot create codes",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-46",
      "summary": "Update davetKoduOlustur backend function to validate that the calling user has permission to create codes for the requested role based on hierarchy (BINA_SAHIBI → YETKILI/SAKIN, YETKILI → SAKIN only)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-47",
      "summary": "Update frontend invite code management panel to show role options based on user's role: BINA_SAHIBI sees YETKILI and SAKIN options; YETKILI sees only SAKIN option; SAKIN sees no panel",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-48",
      "summary": "Update the backend davetKoduOlustur function to enforce hierarchical permissions: BINA_SAHIBI users can create invite codes for YETKILI or SAKIN roles; YETKILI users can create invite codes only for SAKIN role; SAKIN users cannot create any invite codes. Return appropriate error messages in Turkish when a user attempts to create a code for a role they lack permission to assign.",
      "reqIds": [
        "REQ-40"
      ],
      "status": "pending"
    },
    {
      "id": "AR-50",
      "summary": "Add a backend validation check in the davetKoduOlustur function to prevent YETKILI users from creating invite codes for the YETKILI role, returning a Turkish error message such as 'Yetkililer başka yetkili davet edemez' when this restriction is violated.",
      "reqIds": [
        "REQ-42"
      ],
      "status": "pending"
    },
    {
      "id": "AR-52",
      "summary": "Create role-based dashboard routing: BINA_SAHIBI → OwnerDashboard (with invite management, user list, management modules), YETKILI → ManagerDashboard (with resident invite only, no authority invite, limited access), SAKIN → ResidentDashboard (announcements, issue reporting only)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-53",
      "summary": "Implement post-login routing logic that fetches user role and redirects to role-specific dashboard instead of defaulting all users to building management page",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-54",
      "summary": "Create OwnerDashboard component with full management features: invite code creation for YETKILI and SAKIN, user list, building settings",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-55",
      "summary": "Create ManagerDashboard component with limited features: invite code creation for SAKIN only, issue/task management, no access to building settings or authority invite",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-56",
      "summary": "Create ResidentDashboard component with basic features: announcements, issue reporting, no management access",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-57",
      "summary": "Create a user list view in the Owner Dashboard that displays all users in the building with their Principal ID, role, and apartment assignment (initially empty)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-58",
      "summary": "Implement invite code management panel in Owner Dashboard that allows BINA_SAHIBI to create invite codes for both YETKILI and SAKIN roles and displays a list of all created codes with their details",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-59",
      "summary": "Create apartment (daire) data model in backend with basic fields: daireId, daireAdi (apartment identifier like 1, 2, A1, B2), binaId",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-60",
      "summary": "Implement apartment creation functionality in Owner Dashboard that allows BINA_SAHIBI to add new apartments with simple identifiers (numbers or codes)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-61",
      "summary": "Create apartment list view in Owner Dashboard that displays all apartments in the building",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-62",
      "summary": "Create announcement (duyuru) data model in backend with fields: duyuruId, baslik (title), aciklama (description), olusturanPrincipal, olusturmaTarihi, binaId",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-63",
      "summary": "Implement announcement creation form in Owner Dashboard that allows BINA_SAHIBI to create announcements with title and description fields",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-64",
      "summary": "Add backend function duyuruOlustur(baslik: Text, aciklama: Text) that creates a new announcement for the authenticated user's building",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-65",
      "summary": "Add backend function duyurulariListele() that returns all announcements for the authenticated user's building",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-67",
      "summary": "Add backend function kullanicilariListele() that returns an array of all users associated with the authenticated user's building, including their Principal ID, role, and daireId (apartment assignment)",
      "reqIds": [
        "REQ-58"
      ],
      "status": "pending"
    },
    {
      "id": "AR-70",
      "summary": "Add daireId (Text, optional) field to the User/Profile data model in the backend to store apartment assignment for each user",
      "reqIds": [
        "REQ-61"
      ],
      "status": "pending"
    },
    {
      "id": "AR-71",
      "summary": "Create Daire (apartment) data model in the backend with fields: daireId (unique identifier), daireAdi (apartment name/number like '1', '2', 'A1', 'B2'), binaId (building identifier), and olusturmaTarihi (creation timestamp)",
      "reqIds": [
        "REQ-62"
      ],
      "status": "pending"
    },
    {
      "id": "AR-72",
      "summary": "Implement backend function daireOlustur(daireAdi: Text) that creates a new apartment in the authenticated user's building, generates a unique daireId, and stores it in stable storage",
      "reqIds": [
        "REQ-63"
      ],
      "status": "pending"
    },
    {
      "id": "AR-73",
      "summary": "Implement backend function daireleriListele() that returns an array of all apartments in the authenticated user's building, including daireId, daireAdi, and olusturmaTarihi",
      "reqIds": [
        "REQ-64"
      ],
      "status": "pending"
    },
    {
      "id": "AR-77",
      "summary": "Create Duyuru (announcement) data model in the backend with fields: duyuruId (unique identifier), baslik (title), aciklama (description), olusturanPrincipal (creator's Principal ID), olusturmaTarihi (creation timestamp), and binaId (building identifier)",
      "reqIds": [
        "REQ-68"
      ],
      "status": "pending"
    },
    {
      "id": "AR-78",
      "summary": "Implement backend function duyuruOlustur(baslik: Text, aciklama: Text) that creates a new announcement in the authenticated user's building, generates a unique duyuruId, stores it in stable storage, and returns the created announcement",
      "reqIds": [
        "REQ-69"
      ],
      "status": "pending"
    },
    {
      "id": "AR-79",
      "summary": "Implement backend function duyurulariListele() that returns an array of all announcements for the authenticated user's building, ordered by creation date descending",
      "reqIds": [
        "REQ-70"
      ],
      "status": "pending"
    },
    {
      "id": "AR-80",
      "summary": "Implement resident invite code creation in Manager Dashboard (ManagerDashboard.tsx) that allows YETKILI users to create invite codes for SAKIN role only, with proper role validation",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-81",
      "summary": "Create issue/fault tracking list view in Manager Dashboard that displays open issues/faults with apartment, user, and status information",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-82",
      "summary": "Add backend data model for Ariza (issue/fault) with fields: arizaId, baslik, aciklama, daireId, bildirenPrincipal, durum (open/closed), olusturmaTarihi, binaId",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-83",
      "summary": "Implement backend function arizalariListele() that returns all issues for the authenticated user's building, ordered by creation date",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-84",
      "summary": "Create React Query hook useListIssues in frontend/src/hooks/useQueries.ts that fetches issues for the building using arizalariListele backend function",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-85",
      "summary": "Create visual apartment view/layout component in Owner Dashboard that displays all apartments in a grid or floor plan view",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-86",
      "summary": "Create announcement display component in Resident Dashboard that shows all building announcements in read-only format",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-87",
      "summary": "Create issue reporting form in Resident Dashboard that allows SAKIN users to report issues/faults with title, description, and apartment selection",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-88",
      "summary": "Implement backend function arizaBildir(baslik: Text, aciklama: Text, daireId: Text) that creates a new issue for the authenticated user",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-89",
      "summary": "Update ResidentDashboard component to display announcements list and issue reporting form with proper layout and Turkish labels",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-90",
      "summary": "Create React Query hook useReportIssue mutation in frontend/src/hooks/useQueries.ts for issue reporting functionality",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-93",
      "summary": "Implement backend function arizaBildir(baslik: Text, aciklama: Text, daireId: Text) in backend/main.mo that creates a new Ariza record for the authenticated user's building, validates that the user has SAKIN role, generates a unique arizaId, stores it with status 'Açık' (open), and returns the created issue or appropriate error",
      "reqIds": [
        "REQ-85"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Bina Yönetim ERP Uygulaması",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}